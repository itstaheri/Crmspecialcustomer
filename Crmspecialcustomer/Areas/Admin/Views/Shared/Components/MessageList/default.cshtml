@using global::Message.Application.Contract
@using Frameworks
@model List<MessageViewModel>

<!--App Todo List Start-->
<div class="col-12  col-md-12 col-xl-8">
    <h3>آخرین پیام ها</h3>

    <!--Todo List Wrapper Start-->
    <div class="todo-list-wrapper">


        <!--Todo List Container Start-->
        <div class="todo-list-container">

            <!--Todo List Search Start-->
            <!--Todo List Search End-->
            <ul class="todo-list">
                @foreach (var message in Model)
                {
                    <li>
                        <div class="list-action">
                            <label class="adomx-checkbox">
                                <input type="checkbox" disabled @(message.IsReadByCurrentUser?"checked":"")> <i class="icon"></i>
                            </label>
                            <button class="remove"><i class="zmdi zmdi-delete"></i></button>
                        </div>
                        <div class="list-content">
                            <p><a  asp-controller="Message" asp-action="Message" asp-route-MessageId="@message.Id">@(message.Subject)</a></p>
                            <span class="time">@message.CreationDate.ToFarsiFull() تاریخ</span>
                            @if (message.IsReadByCurrentUser)
                            {
                                <span class="text-success">خوانده شده ✔</span>

                            }
                            else
                            {
                                <span class="text-danger">خوانده نشده ❌</span>

                            }
                        </div>

                      
                    </li>
                }

            </ul>
            <!--Todo List End-->


        </div>
        <!--Todo List Container End-->

    </div>
    <!--Todo List Wrapper End-->
    <a asp-controller="Message" asp-action="Index" class="btn btn-info" style="color:white;">مشاهده بیشتر ...</a>
</div>
<!--App Todo List End-->
